--[[local WUPINDAIMA = GameMain:GetMod("WUPINDAIMA");

--必须在OnBeforeInit中执行，这个时候系统只初始化了ThingDef。但是还没初始化所有物品的实体。StorageRing要改成你自己的名称
function WUPINDAIMA:OnBeforeInit()
	local CostItems = {};
	local newitem = CS.XiaWorld.ItemCostData() 
	newitem.name = "Item_LingStone";
	newitem.count = 1;

	local zaohuayulu = ThingMgr:GetDef(CS.XiaWorld.g_emThingType.Item, "Item_ZaoHuaYuLu") 
	local wupin = {zaohuayulu}
	for k,v in pairs(wupin) do
		if not v.Item then
			v.Item = CS.XiaWorld.ItemData();
		end
		if not v.Item.BeMade then
			v.Item.BeMade = CS.XiaWorld.ItemBeMadeData();
		end
		v.Item.BeMade.CostItems:Add(newitem)
	end
end
]]--

local JYS = GameMain:GetMod("JYS");

local function AddCostItem(ItemName,CostItemName,CostItemCount)
	local ThingDef = CS.XiaWorld.ThingMgr.Instance:GetDef(CS.XiaWorld.g_emThingType.Item, ItemName);
	if not ThingDef then
		print("不存在的物品：" .. ItemName)
	end
	if not CS.XiaWorld.ThingMgr.Instance:GetDef(CS.XiaWorld.g_emThingType.Item, CostItemName) then
		print("不存在的需求物品：" .. CostItemName)
	end	
	if ThingDef.Item and ThingDef.Item.BeMade and ThingDef.Item.BeMade.CostItems then
		for k,v in pairs(ThingDef.Item.BeMade.CostItems) do
			if v.name == CostItemName then
				return;
			end
		end
	end

	local newitem = CS.XiaWorld.ItemCostData()
	newitem.name = CostItemName;
	newitem.minlevel = 1;
	newitem.maxlevel = 9999;
	newitem.count = CostItemCount;

	if not ThingDef.Item then
		ThingDef.Item = CS.XiaWorld.ItemData();
	end
	
	if ThingDef.Parent == "DrugBase" then
		local ParentDef = CS.XiaWorld.ThingMgr.Instance:GetDef(CS.XiaWorld.g_emThingType.Item, "DrugBase");
		if ThingDef.Item.BeMade == ParentDef.Item.BeMade then
			ThingDef.Item.BeMade = CS.XiaWorld.ThingBeMadeData();
			ThingDef.Item.BeMade.WorkToMake = 10;
			ThingDef.Item.BeMade.CostStuffCount = 0;
		end
	end
	
	if not ThingDef.Item.BeMade then
		ThingDef.Item.BeMade = CS.XiaWorld.ThingBeMadeData();
	end
	if not ThingDef.Item.BeMade.CostItems then
		ThingDef.Item.BeMade.CostItems = CS.System.Collections.Generic["List`1[XiaWorld.ItemCostData]"]()
	end
	ThingDef.Item.BeMade.CostItems:Add(newitem)
end

function JYS:OnBeforeInit()
	AddCostItem("Item_LingStone","Item_Wood", 10);
	AddCostItem("Item_Wheat","Item_LingStone", 10);
	AddCostItem("Item_Cotton", "Item_LingStone", 10);

	AddCostItem("Item_WuHuangDan", "Item_LingStone", 10);
	AddCostItem("Item_BoarMeat", "Item_LingStone", 100);
    AddCostItem("Item_FrogMeat", "Item_LingStone", 100);
    AddCostItem("Item_TurtleMeat", "Item_LingStone", 100);
    AddCostItem("Item_BearMeat", "Item_LingStone", 100);
    AddCostItem("Item_Beef", "Item_LingStone", 100);
    AddCostItem("Item_RabbitMeat", "Item_LingStone", 100);
    AddCostItem("Item_ChickenMeat", "Item_LingStone", 100);
    AddCostItem("Item_WolfMeat", "Item_LingStone", 100);
    AddCostItem("Item_FishMeat", "Item_LingStone", 100);
    AddCostItem("Item_SnakeMeat", "Item_LingStone", 100);
    AddCostItem("Item_CatMeat", "Item_LingStone", 100);
    AddCostItem("Item_TigerMeat", "Item_LingStone", 100);
    AddCostItem("Item_ChickenEgg", "Item_LingStone", 100);
    AddCostItem("Item_SnakeEgg", "Item_LingStone", 100);
    AddCostItem("Item_TurtleEgg", "Item_LingStone", 100);
	AddCostItem("Item_LingWood","Item_LingStone", 10);--灵木
	AddCostItem("Item_GrayRock","Item_LingStone", 10);
	AddCostItem("Item_HardWood","Item_LingStone",10);--金丝木
	AddCostItem("Item_LingCrystal", "Item_LingStone", 10);
	
	AddCostItem("Item_Cinnabar","Item_LingStone", 10);--朱砂
	AddCostItem("Item_MonsterBlood","Item_LingStone", 10)
	AddCostItem("Item_IronRock","Item_LingStone", 10);--铁矿
	AddCostItem("Item_DarksteelRock","Item_LingStone", 10);--玄铁
	AddCostItem("Item_StarEssence","Item_LingStone", 10);--星髓
	
	AddCostItem("Item_CopperRock","Item_LingStone",10);--火铜矿石
	
	AddCostItem("Item_SilverRock","Item_LingStone", 10);--寒晶矿石	
	
	AddCostItem("Item_BrownRock","Item_LingStone", 10);--棕石
	AddCostItem("Item_Marble","Item_LingStone", 10);--大理石
	AddCostItem("Item_Jade","Item_LingStone", 10);--玉石
	AddCostItem("Item_StoneEssence","Item_LingStone", 10);
	AddCostItem("Item_JadeEssence","Item_LingStone", 10);
	
	AddCostItem("Item_StoneBox2","Item_LingStone", 10);--古旧石匣
	
	AddCostItem("Item_ParasolWood","Item_LingStone", 10);--梧桐木
	AddCostItem("Item_SkyStone","Item_LingStone", 10);--天柱石
	
	AddCostItem("Item_SoulCrystalYou","Item_LingStone", 100);--幽珀
	AddCostItem("Item_SoulCrystalLing","Item_LingStone", 100);--灵珀
	AddCostItem("Item_SoulCrystalNing","Item_LingStone", 100);--宁珀
	AddCostItem("Item_Yao_RabbitLuck","Item_LingStone", 10);--兔妖的脚
	AddCostItem("Item_Yao_WolfAtk","Item_LingStone", 100);--妖狼的尖牙
	AddCostItem("Item_Yao_SnakeHanLin","Item_LingStone", 100);--妖蛇的寒鳞
	AddCostItem("Item_Yao_BearPiMao","Item_LingStone", 100);--熊妖的脖颈毛
	AddCostItem("Item_Yao_TurtleKe","Item_LingStone", 100);--巨龟的坚甲
	AddCostItem("Item_DragonShit","Item_LingStone", 100);--天龙砂
	AddCostItem("Item_ExtremeJade","Item_LingStone", 100);--千棱神玉
	AddCostItem("Item_DragonScale","Item_LingStone", 100);--龙鳞
	AddCostItem("Item_ZaoHuaYuLu","Item_LingStone", 100);--造化玉露--灵石
	AddCostItem("Item_HuoEssence","Item_LingStone", 100);--朱果--灵晶
	AddCostItem("Item_ShuiEssence","Item_LingStone", 100);--五色金莲--灵晶
	AddCostItem("Item_MuEssence","Item_LingStone", 100);--木枯藤--灵晶
	AddCostItem("Item_JinEssence","Item_LingStone", 100);--琅琊果--灵晶
	AddCostItem("Item_TuEssence","Item_LingStone", 100);--赭黄精--灵晶
	AddCostItem("Item_EarthEssence","Item_LingStone", 100);--地母灵液--玉石
	AddCostItem("Item_LifeStream","Item_LingStone", 100);--长生泉--灵木
	AddCostItem("Item_SoulPearl","Item_LingStone", 100);--玄牝珠--
	AddCostItem("Item_MonsterBlood","Item_LingStone", 100);--妖灵血--大理石	
	AddCostItem("Item_LingMuXueJie","Item_LingStone", 100);--灵木血竭--灵晶
	AddCostItem("Item_EarthEssence_1","Item_LingStone", 100);--灵髓脂--灵晶	
	AddCostItem("Item_EarthEssence1","Item_LingStone", 100);--邪脉血泉--灵晶
	AddCostItem("Item_EarthEssence1_1","Item_LingStone", 100);--血髓脂--灵晶	
	AddCostItem("Item_BossLong_Meat","Item_LingStone", 100);--蛟龙的血肉--水
	AddCostItem("Item_BossZhuLong_Meat","Item_LingStone", 100);--原初血肉--水
	AddCostItem("Item_BossFeng_Meat","Item_LingStone", 100);--凶凤的血肉--水	
	AddCostItem("Item_BenYuan_Jin","Item_LingStone", 100);--天道本源-金--水
	AddCostItem("Item_BenYuan_Shui","Item_LingStone", 100);--天道本源-水--水
	AddCostItem("Item_BenYuan_Huo","Item_LingStone", 100);--天道本源-火--水
	AddCostItem("Item_BenYuan_Tu","Item_LingStone", 100);--天道本源-土--水
	AddCostItem("Item_BenYuan_Mu","Item_LingStone", 100);--天道本源-木--水
	AddCostItem("Item_BenYuan_None","Item_LingStone", 100);--天道本源-无--水
	AddCostItem("Item_SoulCrystalYuanLing","Item_LingStone", 100);--元灵之珀--水
	AddCostItem("Item_Yao_CatSoul","Item_LingStone", 100);--猫妖之珀--水
	AddCostItem("Item_XieHunLu","Item_LingStone", 100);--邪魂露
	AddCostItem("Item_QieDaoGuo","Item_LingStone", 1000);--窃道果
	AddCostItem("Item_YuanHunLu","Item_LingStone", 100);--元魂露
	AddCostItem("Item_YanDaoGuo","Item_LingStone", 100);--演道果	
	AddCostItem("Item_ThunderAir","Item_LingStone", 100);--天劫之息
	
	AddCostItem("Item_XianBone","Item_LingStone", 10);--仙人遗骨
	AddCostItem("Item_XianDaoShenNian","Item_LingStone", 10);--仙识神念
	AddCostItem("Item_ZaoHuaYuZi","Item_LingStone", 10);--造化玉籽
	AddCostItem("Item_BossFeng_HongYu","Item_LingStone", 10);
	AddCostItem("Item_HorseFromFei","Item_LingStone", 10);
	AddCostItem("Item_HorseFromJY_Rabbit", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Chicken", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Wolf", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Snake", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Boar", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Bear", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Frog", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Turtle", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Cat", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Cattle", "Item_LingStone", 10);
AddCostItem("Item_HorseFromJY_Tiger", "Item_LingStone", 10);
AddCostItem("Item_HorseFromLuShu", "Item_LingStone", 10);
AddCostItem("Item_BasePracticeDrug", "Item_LingStone", 500);
AddCostItem("Item_Dan_JingYuan", "Item_LingStone", 500);
AddCostItem("Item_Dan_JingYuan2", "Item_LingStone", 500);
AddCostItem("Item_Dan_JingYuan3", "Item_LingStone", 500);
AddCostItem("Item_Dan_PracticeRate", "Item_LingStone", 500);
AddCostItem("Item_Dan_CalmDown", "Item_LingStone", 500);
AddCostItem("Item_Dan_Happiness", "Item_LingStone", 500);
AddCostItem("Item_Dan_NoHunger", "Item_LingStone", 500);
AddCostItem("Item_Dan_NoHunger2", "Item_LingStone", 500);
AddCostItem("Item_Dan_LostSoul", "Item_LingStone", 500);
AddCostItem("Item_Dan_DredgeQi1", "Item_LingStone", 500);
AddCostItem("Item_Dan_DredgeQi", "Item_LingStone", 500);
AddCostItem("Item_Dan_WuLingSan", "Item_LingStone", 500);
AddCostItem("Item_Dan_CureJinDamage", "Item_LingStone", 500);
AddCostItem("Item_Dan_CureMuDamage", "Item_LingStone", 500);
AddCostItem("Item_Dan_CureShuiDamage", "Item_LingStone", 500);
AddCostItem("Item_Dan_CureHuoDamage", "Item_LingStone", 500);
AddCostItem("Item_Dan_CureTuDamage", "Item_LingStone", 500);
AddCostItem("Item_Dan_CureFiveElementDamage", "Item_LingStone", 500);
AddCostItem("Item_Dan_ExtremeLofty", "Item_LingStone", 500);
AddCostItem("Item_Dan_HundredRefine", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseLife1", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseLife2", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseLife3", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseLife4", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseLife5", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseNeckCountdown1", "Item_LingStone", 500);
AddCostItem("Item_Dan_IncreaseNeckCountdown2", "Item_LingStone", 500);
AddCostItem("Item_Dan_SwordBall", "Item_LingStone", 500);
AddCostItem("Item_Dan_Defense", "Item_LingStone", 500);
AddCostItem("Item_Dan_Ling3", "Item_LingStone", 500);
AddCostItem("Item_Dan_FiveBase1", "Item_LingStone", 500);
AddCostItem("Item_Dan_FiveBase2", "Item_LingStone", 500);
AddCostItem("Item_Dan_FiveBase4", "Item_LingStone", 500);
AddCostItem("Item_Dan_FiveBase5", "Item_LingStone", 500);
AddCostItem("Item_Dan_FiveBaseFromLife", "Item_LingStone", 500);
AddCostItem("Item_Dan_TreeEXP", "Item_LingStone", 500);
AddCostItem("Item_Dan_FaceLock", "Item_LingStone", 500);
AddCostItem("Item_Dan_Fat", "Item_LingStone", 500);
AddCostItem("Item_Dan_Soul3", "Item_LingStone", 500);
AddCostItem("Item_Dan_Soul4", "Item_LingStone", 500);
AddCostItem("Item_Dan_LunHui1", "Item_LingStone", 500);
AddCostItem("Item_Dan_ReBorn", "Item_LingStone", 500);
AddCostItem("Item_Dan_ReBorn_4", "Item_LingStone", 500);
AddCostItem("Item_Dan_LingYuanZhong", "Item_LingStone", 500);
AddCostItem("Item_Dan_LingYuanSha", "Item_LingStone", 500);
AddCostItem("Item_Dan_LongDan1", "Item_LingStone", 500);
AddCostItem("Item_Dan_FengDan1", "Item_LingStone", 500);
AddCostItem("Item_Dan_ZhuLongDan1", "Item_LingStone", 500);
AddCostItem("Item_Dan_FenShen1", "Item_LingStone", 500);
AddCostItem("Item_Dan_FenShen2", "Item_LingStone", 500);
AddCostItem("Item_Dan_FenShen3", "Item_LingStone", 500);
AddCostItem("Item_Dan_TiShen", "Item_LingStone", 500);
AddCostItem("Item_MiBao_WuYueZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_ZhuXianZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_QiXingZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianDiWuFangZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_LiuYuZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_LongXingZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_FengHunZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_YinYangZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_SanYinZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_BaMenZhenTu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_ShenMuZhenTu", "Item_LingStone", 500);
AddCostItem("FengShuiItem_YinZhang1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_YinZhang2", "Item_LingStone", 500);
AddCostItem("FengShuiItem_YinZhang3", "Item_LingStone", 500);
AddCostItem("FengShuiItem_Ta1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_Ta2", "Item_LingStone", 500);
AddCostItem("FengShuiItem_Ping1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_Ding1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_Bei1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_ShiZi1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_ShiTou1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_TuHua1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_ShuJi1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_QiJu1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_FuZhou1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_Jian1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_HuLu1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_BaoBei1", "Item_LingStone", 500);
AddCostItem("FengShuiItem_SheLi1", "Item_LingStone", 500);
AddCostItem("Item_Boss_Jiaowangci", "Item_LingStone", 500);
AddCostItem("Item_Boss_Fenghuangneidan", "Item_LingStone", 500);
AddCostItem("Item_BossFeng_HuoYu", "Item_LingStone", 500);
AddCostItem("Item_BossFeng_GangYu", "Item_LingStone", 500);
AddCostItem("Item_BossFeng_TouYu", "Item_LingStone", 500);
AddCostItem("Item_BossFeng_WeiYu", "Item_LingStone", 500);
AddCostItem("Item_BossFeng_Gu", "Item_LingStone", 500);
AddCostItem("Item_BossLong_Jiao", "Item_LingStone", 500);
AddCostItem("Item_BossLong_Zhua", "Item_LingStone", 500);
AddCostItem("Item_BossLong_Lin", "Item_LingStone", 500);
AddCostItem("Item_BossLong_NiLin", "Item_LingStone", 500);
AddCostItem("Item_BossLong_Jing", "Item_LingStone", 500);
AddCostItem("Item_BossZhuLong_BaiLin", "Item_LingStone", 500);
AddCostItem("Item_BossZhuLong_HeiLin", "Item_LingStone", 500);
AddCostItem("Item_BossZhuLong_Eye", "Item_LingStone", 500);
AddCostItem("Item_BossZhuLong_TianLin", "Item_LingStone", 500);
AddCostItem("Item_BossZhuLong_LongYu", "Item_LingStone", 500);
AddCostItem("Item_BossFeng_FengYin", "Item_LingStone", 500);
AddCostItem("Item_BossZhuLong_FengYin", "Item_LingStone", 500);
AddCostItem("Item_GodPractice_MiJuan", "Item_LingStone", 500);
AddCostItem("Item_GodPractice_MiJuan_1", "Item_LingStone", 500);
AddCostItem("Item_GodPractice_MiJuan_2", "Item_LingStone", 500);
AddCostItem("Item_GodPractice_MiJuan_3", "Item_LingStone", 500);
AddCostItem("Item_GodPractice_MiJuan_4", "Item_LingStone", 500);
AddCostItem("Item_GodPractice_MiJuan_6", "Item_LingStone", 500);

AddCostItem("Item_MiBao_WuDuZhuXianSword", "Item_LingStone", 500);
AddCostItem("Item_MiBao_BaiLingZhanXianSword", "Item_LingStone", 500);
AddCostItem("Item_MiBao_ShiErShaShenMoLingSha", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianMoHuaXueShenDao", "Item_LingStone", 500);
AddCostItem("Item_MiBao_YinHunZhu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_JiuTianYuanYangChi", "Item_LingStone", 500);
AddCostItem("Item_MiBao_LongXinYinYangGui", "Item_LingStone", 500);
AddCostItem("Item_MiBao_DaiShenZhu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_QiJueShenZhen", "Item_LingStone", 500);
AddCostItem("Item_MiBao_XiXingShenSuo", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TaiYiFenGuangJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_WuqiLeiFu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_JinFabao", "Item_LingStone", 500);
AddCostItem("Item_MiBao_MuFabao", "Item_LingStone", 500);
AddCostItem("Item_MiBao_ShuiFabao", "Item_LingStone", 500);
AddCostItem("Item_MiBao_HuoFabao", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TuFabao", "Item_LingStone", 500);
AddCostItem("Item_MiBao_JinLianShenZuo", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TunLingShenJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_ShenNongDing", "Item_LingStone", 500);
AddCostItem("Item_MiBao_QingNingFeiYu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_YuanShenXinJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_ZhuXianJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_LuXianJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_XianXianJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_JueXianJian", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianLangDing", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianShu", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianQuan", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianJi", "Item_LingStone", 500);
AddCostItem("Item_MiBao_TianXuan", "Item_LingStone", 500);
AddCostItem("Item_MiBao_YuHeng", "Item_LingStone", 500);
AddCostItem("Item_MiBao_KaiYang", "Item_LingStone", 500);
AddCostItem("Item_MiBao_YaoGuang", "Item_LingStone", 500);
AddCostItem("Item_MiBao_KuiHuaShenJian", "Item_LingStone", 500);

AddCostItem("Item_God_Guard2", "Item_LingStone", 500);
AddCostItem("Item_God_Guard3", "Item_LingStone", 500);
AddCostItem("Item_SuoYingZhiJuan", "Item_LingStone", 500);
AddCostItem("Item_OldSchool_Letter", "Item_LingStone", 500);



end